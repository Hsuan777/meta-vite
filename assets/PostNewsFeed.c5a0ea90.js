import{_ as k,e as p,f as v,o as b,c as u,a,g as _,v as h,l as w,j as g}from"./index.794e56a7.js";const x={setup(){const i="https://metawall.herokuapp.com/posts",t=p(""),r=p(null),e=v({}),d={id:"e7bdb6b252f9fe5"};return{inputContent:t,imageInfo:e,imageFile:r,uploadImageToImgul:n=>{const s=n.target.files[0];let l=new FormData,m={method:"POST",url:"https://api.imgur.com/3/image",headers:{Authorization:`Client-ID ${d.id}`},mimeType:"multipart/form-data"};l.append("image",s),l.append("name",s.name),m.data=l,g(m).then(c=>{e.link=c.data.data.link,e.name=c.data.data.name,n.target.value=""})},postData:()=>{const n={user:"626def88402e0ab428973045",image:e.link,content:t.value};g.post(i,n).then(s=>{s.data.status===200&&(t.value="")})}}}},y=a("h2",{class:"text-center border border-dark border-2 py-4 bg-white mb-4 position-relative border-overlap border-overlap-start fw-bold"},"\u5F35\u8CBC\u52D5\u614B",-1),I={class:"p-8 shadow-lg border border-dark border-2 rounded bg-white"},C=a("label",{for:"newsFeedTextarea",class:"mb-1 d-block"},"\u8CBC\u6587\u5167\u5BB9",-1),T={key:0,class:"mb-8"},D=["src","alt"],F={class:"d-flex justify-content-center"},B=["disabled"];function N(i,t,r,e,d,f){return b(),u("div",null,[y,a("div",I,[C,_(a("textarea",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.inputContent=o),name:"",id:"newsFeedTextarea",cols:"30",rows:"10",class:"w-100 mb-4 border border-dark border-2"},null,512),[[h,e.inputContent]]),a("input",{ref:"imageFile",type:"file",class:"d-none btn btn-dark px-8 py-1 mb-4",onChange:t[1]||(t[1]=o=>e.uploadImageToImgul(o))},null,544),a("input",{type:"button",value:"\u4E0A\u50B3\u5716\u7247",class:"btn btn-dark px-8 py-1 mb-4",onClick:t[2]||(t[2]=o=>e.imageFile.click())}),e.imageInfo.link?(b(),u("div",T,[a("img",{src:e.imageInfo.link,alt:e.imageInfo.name,class:"image-fluid"},null,8,D)])):w("",!0),a("div",F,[a("input",{type:"button",class:"w-50 mx-auto py-4 btn btn-secondary bg-black-50",value:"\u9001\u51FA\u8CBC\u6587",onClick:t[3]||(t[3]=(...o)=>e.postData&&e.postData(...o)),disabled:!e.inputContent},null,8,B)])])])}var V=k(x,[["render",N]]);export{V as default};
