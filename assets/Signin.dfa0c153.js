import{u as w,i as g,h as b,q as v,f as k,r as x,o as c,c as d,a as e,j as m,v as u,l as n,n as y,b as V,w as I,g as p,e as U}from"./index.712d378f.js";import{_ as B}from"./metawall.2950aeaa.js";const N={class:"container d-flex align-items-center vh-100"},P={class:"row justify-content-center align-items-center w-100"},S=e("div",{class:"col-md-4"},[e("img",{src:B,alt:"",class:"ms-auto"})],-1),q={class:"col-md-4 text-center"},C=e("h1",{class:"text-primary"},"MetaWall",-1),E=e("p",null,"\u5230\u5143\u5B87\u5B99\u5C55\u958B\u5168\u65B0\u793E\u4EA4\u5708",-1),M={class:"form-floating mb-3"},$=e("label",{for:"floatingInput"},"Email address",-1),j={class:"form-floating mb-5"},z=e("label",{for:"floatingPassword"},"Password",-1),T={key:0,class:"text-danger mb-2"},A=e("input",{type:"submit",value:"\u767B\u5165",class:"border-shadow btn btn-primary w-100 btn-block py-3 mb-2"},null,-1),D=U("\u8A3B\u518A\u5E33\u865F"),G={setup(R){const i=w(),s=g({}),h="https://metawall.herokuapp.com/user/signin",r=b(!1),_=()=>{p.post(h,s).then(t=>{if(t.data.status==="success"){const o=t.headers.authorization.split(" ")[1];r.value=!1,localStorage.setItem("metawall",o),i.replace({name:"home"})}}).catch(()=>{r.value=!0})},f=()=>{const t=localStorage.getItem("metawall");if(!t)return;const l={method:"get",url:"https://metawall.herokuapp.com/user/check",headers:{Authorization:`Bearer ${t}`}};p(l).then(a=>{a.data.status==="success"&&i.push({name:"home"})})};return v(()=>r.value,t=>{t&&(s.email="",s.password="")}),k(()=>{f()}),(t,o)=>{const l=x("router-link");return c(),d("div",N,[e("div",P,[S,e("div",q,[C,E,e("form",{onSubmit:_},[e("div",M,[m(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>n(s).email=a),type:"email",class:"form-control border-dark border-2 bg-white",id:"floatingInput",placeholder:"name@example.com",required:""},null,512),[[u,n(s).email]]),$]),e("div",j,[m(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>n(s).password=a),type:"password",class:"form-control border-dark border-2 bg-white",id:"floatingPassword",placeholder:"Password",required:""},null,512),[[u,n(s).password]]),z]),r.value?(c(),d("p",T,"\u5E33\u865F\u6216\u5BC6\u78BC\u932F\u8AA4\uFF0C\u8ACB\u91CD\u65B0\u8F38\u5165\uFF01")):y("",!0),A,V(l,{to:"/signup",class:"text-decoration-none"},{default:I(()=>[D]),_:1})],32)])])])}}};export{G as default};
