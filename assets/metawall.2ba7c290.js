import{h as i,i as n}from"./index.95cd60ba.js";const p=(s,t)=>{switch(s){case 400:break;case 401:n.push({name:"signin"});break}},o=i.create({baseURL:"https://metawall.herokuapp.com"});o.interceptors.request.use(s=>{const t=localStorage.getItem("metawall");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));o.interceptors.response.use(s=>s,s=>{const{response:t}=s;if(t)return p(t.status,t.data.error),Promise.reject(s);if(!window.navigator.onLine)console.log("\u7DB2\u8DEF\u51FA\u4E86\u9EDE\u554F\u984C\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66");else return Promise.reject(s)});var e=(s,t,a=null,r)=>{if(s=s.toLowerCase(),s==="get")return o.get(t,{params:a});if(s==="post")return o.post(t,a,r);if(s==="patch")return o.patch(t,a);if(s==="delete")return o.delete(t,{params:a});console.log("\u672A\u77E5\u7684 method:"+s)};const l=s=>e("get",`posts?${s}`),u=s=>e("get",`posts/${s}`),g=(s,t)=>e("post","posts",s,t),P=()=>e("get","posts/user/likeList"),w=s=>e("post",`posts/${s}/likes`),m=(s,t)=>e("post",`posts/${s}/comment`,t),k=s=>e("delete",`posts/${s}/comment`),f=()=>e("get","user/profile"),h=s=>e("post","user/updatePassword",s),L=(s,t)=>e("patch","user/profile",s,t),$=()=>e("get","user/followingList"),F=s=>e("get",`user/${s}/followersList`),b=s=>e("get",`user/${s}/checkFollow`),C=s=>e("post",`user/${s}/follow`),U=s=>e("delete",`user/${s}/unFollow`),d=s=>e("post","user/signup",s),j=s=>e("post","user/signin",s),G=s=>e("get","user/check",s),S=s=>e("get",`user/TPcallback?onceToken=${s}`);export{G as a,l as b,w as c,u as d,m as e,k as f,b as g,F as h,U as i,C as j,f as k,g as l,$ as m,L as n,h as o,P as p,j as q,d as r,S as s};
